<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Lista użytkowników</title>
    <link th:href="@{css/bootstrap.css}" rel="stylesheet" />
    <link th:href="@{css/app.css}" rel="stylesheet" />
</head>

<body>
<div class="generic-container">
    <div class="authbar" th:replace="thymeleaf/authheader :: auth" ></div>
   <!-- <%@include file="authheader.jsp" %> -->
    <div class="panel panel-default">
        <!-- Default panel contents -->
        <div class="panel-heading"><span class="lead">Lista użytkowników </span></div>
        <table class="table table-hover">
            <thead>
            <tr>
                <th>Imię</th>
                <th>Nazwisko</th>
                <th>Email</th>
                <th>SSO ID</th>
                <div sec:authorize access="hasRole('ADMIN') or hasRole('DBA')"><th width="100"></th></div>
                <div sec:authorize access="hasRole('ADMIN')"><th width="100"></th></div>
            </tr>
            </thead>
            <tbody th:each="user : ${users}">
                <tr>
                    <td th:text="${user.firstName}">...</td>
                    <td th:text="${user.lastName}">...</td>
                    <td th:text="${user.email}">...</td>
                    <td th:text="${user.ssoId}">...</td>
                    <sec:authorize access="hasRole('ADMIN') or hasRole('DBA')">
                        <td><a th:href="@{'/edit-user-' + ${user.ssoId}}" class="btn btn-success custom-width">edytuj</a></td>
                    </sec:authorize>
                    <sec:authorize access="hasRole('ADMIN')">
                        <td><a th:href="@{'/delete-user-' + ${user.ssoId}}" class="btn btn-danger custom-width">usuń</a></td>
                    </sec:authorize>
                </tr>
            </tbody>
        </table>
    </div>
    <sec:authorize access="hasRole('ADMIN')">
        <div class="well">
            <a th:href="@{/newuser}">dodaj nowego użytkownika</a>
        </div>
    </sec:authorize>
</div>
</body>
</html>